<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
  	  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
         <style media="screen">
        /* Style inputs */
             input[type=text], input[type=email], textarea {
          width: 100%;
          padding: 12px 20px;
          margin: 8px 0;
          display: inline-block;
          border: 1px solid #ccc;
          border-radius: 4px;
          box-sizing: border-box;
          background-color: aliceblue;
        }
        
        /* Style the submit button */
     /* Style the submit button */
        button {
          width: 100%;
          background-color: #4CAF50;
          color: white;
          padding: 14px 20px;
          margin: 8px 0;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-size: large;
        }
        
         button2 {
          width: 50%;
          background-color: #4CAF50;
          color: white;
          padding: 14px 20px;
          margin: 8px 0;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-size: large;
        }

        
        /* Add a background color to the submit button on mouse-over */
        input[type=submit]:hover {
          background-color: #45a049;
        }
        table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}
	      
td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
.weekDays-selector input {
  display: none!important;
}

.weekDays-selector input[type=checkbox] + label {
  display: inline-block;
  border-radius: 6px;
  background: #dddddd;
  height: 40px;
  width: 30px;
  margin-right: 3px;
  line-height: 40px;
  text-align: center;
  cursor: pointer;
}

.weekDays-selector input[type=checkbox]:checked + label {
  background: #2AD705;
  color: #ffffff;
}
			 /* =============================
   Aqua Visitor System – UI Refresh (drop-in)
   Safe to paste after existing styles; no HTML/JS changes required.
   ============================= */

/* --- Design tokens --- */
:root{
  --bg: #f7f9fc;
  --surface: #ffffff;
  --ink: #1f2a44;
  --muted: #667089;
  --brand: #0a5bd6;           /* Aqua blue */
  --brand-ink: #ffffff;
  --ring: 72 92% 51%;         /* h s% l% for OKLCH-like ring */
  --danger: #d64545;
  --radius: 12px;
  --shadow: 0 6px 18px rgba(15, 23, 42, .10);
  --shadow-lg: 0 12px 28px rgba(15, 23, 42, .14);
}

/* Dark mode support (auto) */
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0f172a;
    --surface:#0b1224;
    --ink:#e6ebff;
    --muted:#9aa3b2;
    --brand:#4ea1ff;
    --brand-ink:#0b1224;
    --shadow: 0 8px 22px rgba(0,0,0,.35);
    --shadow-lg: 0 16px 36px rgba(0,0,0,.45);
  }
}

/* --- Reset / base --- */
*,
*::before,
*::after{ box-sizing: border-box; }

html, body{ height: 100%; }

body{
  margin:0;
  font-family: "Segoe UI", system-ui, -apple-system, Roboto, Arial, sans-serif;
  color: var(--ink);
  background: radial-gradient(1200px 1200px at 20% -10%, rgba(10,91,214,.08), transparent 60%) var(--bg);
  line-height: 1.45;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* Constrain wide layouts without needing wrapper classes */
body > header,
body > main,
body > section,
body > form,
body > div,
body > footer{
  max-width: 1100px;
  margin-inline: auto;
  padding-inline: clamp(16px, 3vw, 28px);
}

/* Headings */
h1{ font-size: clamp(1.6rem, 2.4vw + 1rem, 2.2rem); margin: 20px 0 14px; letter-spacing:.2px }
h2{ font-size: clamp(1.2rem, 1.4vw + .8rem, 1.5rem); margin: 18px 0 10px; color: var(--ink) }
p, small{ color: var(--muted) }

/* Cards (for any sections or blocks) */
section, .card{
  background: var(--surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: clamp(16px, 2.2vw, 22px);
}

/* Links */
a{
  color: var(--brand);
  text-decoration: none;
}
a:hover{ text-decoration: underline; }
a:focus-visible{
  outline: 3px solid color-mix(in oklab, var(--brand) 70%, white 30%);
  outline-offset: 2px;
  border-radius: 6px;
}

/* Make lone nav links look nicer without changing HTML */
body > a, nav a{
  display: inline-block;
  background: linear-gradient(180deg, color-mix(in oklab, var(--brand) 88%, white 12%), var(--brand));
  color: var(--brand-ink);
  padding: 10px 14px;
  border-radius: 10px;
  box-shadow: var(--shadow);
  text-decoration: none;
  margin: 6px 8px 10px 0;
  font-weight: 600;
}
body > a:hover, nav a:hover{ filter: brightness(1.05); transform: translateY(-1px); }
body > a:active, nav a:active{ transform: translateY(0); }

/* Forms – friendly spacing & layout */
form{
  display: grid;
  gap: 14px;
}

/* Group labels and controls without editing HTML */
label{
  display: block;
  font-weight: 600;
  color: var(--ink);
  margin-bottom: 6px;
}

/* Inputs / selects / textareas */
input[type="text"],
input[type="email"],
input[type="number"],
input[type="tel"],
input[type="datetime-local"],
input[type="date"],
input[type="time"],
input[type="url"],
input[type="search"],
select,
textarea{
  width: 100%;
  background: var(--surface);
  color: var(--ink);
  border: 1px solid color-mix(in oklab, var(--muted) 28%, transparent);
  border-radius: 10px;
  padding: 12px 14px;
  outline: none;
  transition: border .15s ease, box-shadow .15s ease, background .15s ease, transform .05s ease;
  box-shadow: 0 1px 0 rgba(0,0,0,.02) inset;
}

input::placeholder,
textarea::placeholder{ color: color-mix(in oklab, var(--muted) 65%, transparent) }

input:focus-visible,
select:focus-visible,
textarea:focus-visible{
  border-color: var(--brand);
  box-shadow:
    0 0 0 4px color-mix(in oklab, var(--brand) 18%, transparent),
    0 0 0 1px var(--brand);
}

/* Compact help text under fields */
.help, .hint, small.hint{
  display:block;
  margin-top:6px;
  color: var(--muted);
  font-size:.9rem;
}

/* Primary actions (buttons & submits) */
button,
input[type="submit"],
input[type="button"]{
  appearance: none;
  border: none;
  background: linear-gradient(180deg, color-mix(in oklab, var(--brand) 92%, white 8%), var(--brand));
  color: var(--brand-ink);
  font-weight: 700;
  padding: 12px 16px;
  border-radius: 12px;
  box-shadow: var(--shadow);
  cursor: pointer;
  transition: transform .06s ease, filter .15s ease, box-shadow .15s ease;
}
button:hover,
input[type="submit"]:hover,
input[type="button"]:hover{ filter: brightness(1.05); transform: translateY(-1px); }
button:active,
input[type="submit"]:active,
input[type="button"]:active{ transform: translateY(0); }
button:disabled,
input[type="submit"]:disabled,
input[type="button"]:disabled{
  opacity:.55; cursor:not-allowed; filter: grayscale(.2);
}

/* Secondary "ghost" style for less-important links that look like buttons */
a.ghost{
  background: transparent;
  color: var(--brand);
  border: 1px solid color-mix(in oklab, var(--brand) 38%, var(--muted));
}

/* Fieldsets (e.g., recurring days/times) */
fieldset{
  border: 1px solid color-mix(in oklab, var(--muted) 28%, transparent);
  border-radius: 12px;
  padding: 12px 14px 14px;
}
legend{
  padding: 0 8px;
  font-weight: 700;
  color: var(--ink);
}

/* Checkbox & radio hit-area boost (keeps native inputs) */
input[type="checkbox"],
input[type="radio"]{ accent-color: var(--brand); }
label:has(> input[type="checkbox"]),
label:has(> input[type="radio"]){
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 10px;
  transition: background .15s ease, box-shadow .15s ease;
}
label:has(> input[type="checkbox"]:focus-visible),
label:has(> input[type="radio"]:focus-visible){
  box-shadow: 0 0 0 4px color-mix(in oklab, var(--brand) 18%, transparent);
}

/* Tables (for Scheduled Visits views) */
table{
  width:100%;
  border-collapse: collapse;
  background: var(--surface);
  box-shadow: var(--shadow);
  border-radius: 12px;
  overflow: hidden;
}
thead th{
  text-align:left;
  padding:12px 14px;
  font-weight:700;
  background: color-mix(in oklab, var(--surface) 85%, var(--brand) 15%);
}
tbody td{
  padding:12px 14px;
  border-top:1px solid color-mix(in oklab, var(--muted) 24%, transparent);
}
tbody tr:hover{ background: color-mix(in oklab, var(--surface) 92%, var(--brand) 8%); }

/* Inline alerts (if any text uses these classes) */
.success{ color:#0f8b4b }
.warn{ color:#b68400 }
.error{ color: var(--danger) }

/* Layout breathing room */
section + section,
form + section,
section + form{ margin-top: 18px; }

/* Footer tone-down */
footer{ color: var(--muted); }

/* Mobile tweaks */
@media (max-width: 720px){
  body > header,
  body > main,
  body > section,
  body > form,
  body > div,
  body > footer{
    padding-inline: 16px;
  }
  table{ display:block; overflow:auto; border-radius: 10px; }
  thead th, tbody td{ white-space: nowrap; }
}
      </style>  
    <title>Aqua Visitor Managment System</title>
<link href="https://code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
  </head>
<div id="loading">
  <body style="font-family: sans-serif;font-size: large;">
      <a href="https://aquavisitorsystem.github.io/"><img id="logo" src="aqua.png" width="250px" alt="Go Home"></a><br>
      <h1 id="header" style="text-align: center;">Aqua Visitor Management System</h1>
      <div id="help"><center> <button onclick="location.href='https://aquavisitorsystem.github.io/help/Aqua%20Visitor%20Check.htm'" type="button" style="width: 120px;padding: unset;background-color: grey;">help</button>  <button type="button" onclick="javascript:callback()" style="width: 120px;padding: unset;background-color: grey;">what's new?</button></center></div>
      <div id="back"><center><a href="javascript:history.back();">[Go Back]</a></center></div>  
      <button id="schedule" type="button" style="background-color: orangered;">Schedule Visitor</button>
       <button id="getall" type="button" style="background-color: navy;">View Scheduled Visits</button>
       <div id="container">
    <form id="forms">
      <input type="hidden" id="bitly" name="bitly">  
      <input type="hidden" id="id" name="id"> 
     <div id="checkedin"></div>
      <div id="logins">
          <datalist id="loginlist"></datalist>
       <label for="login" id="loginlabel" style="color: black;font-weight: bold;">Aqua Employee Guest is Visiting (Aqua UserID)</label><br>
<input list="loginlist" type="text" id="login" name="login" placeholder="Enter aqua userid | example:ckonkol" style="background-color: lightyellow;width: 600px;text-transform: lowercase;"><label id="emaillabel" style="color: black;font-weight: bold;">@aqua-aerobic.com</label>
      </div>
	      <div id="meetingfields">
      <label for="fname" style="color: black;font-weight: bold;">Guest First Name</label>
      <input type="text" id="fname" name="fname" placeholder="Enter guest first name or Company Name if name TBD (Example: WKRP Radio)" style="text-transform: uppercase;">
      
       <label for="lname" style="color: black;font-weight: bold;">Guest Last Name</label>
      <input type="text" id="lname" name="lname" placeholder="Enter guest last name or Guest(#) if name TBD. (Examples: GUEST, GUEST1, GUEST2, etc.)" style="text-transform: uppercase;">
      
           <label for="cname" style="color: black;font-weight: bold;">Guest Company Name</label>
      <input type="text" id="cname" name="cname" placeholder="Enter guest company name or GUEST" style="text-transform: uppercase;">

      <label for="email" style="color: black;font-weight: bold;">Guest Email</label>
      <input type="email" id="email" name="email" placeholder="Enter guest email address or TBD" style="text-transform: uppercase;">
      <br>
      <div id="datedetails">
        <label for="date" style="color: black;font-weight: bold;">Date & Time Guest is Visiting Aqua: </label>
         <details>
  <summary><input type="datetime-local" id="date" name="date" style="font-family: sans-serif;"><i style="color: gray;"> If time unknown use 8:00am [Click to add/view OR Weekly Recurring Dates]</summary> 
    <b>Individual Dates</b><br />
             <i style="font-size: small;">If you select individual dates you cannot use below <b>Weekly Recurring Dates</b></i><br/>
             <ul>Date 2:&nbsp;&nbsp;&nbsp;<input type="datetime-local" id="date2" name="date2" style="font-family: sans-serif;"> 
          </ul>
  <ul>Date 3:&nbsp;&nbsp;&nbsp;<input type="datetime-local" id="date3" name="date3" style="font-family: sans-serif;"></ul>
  <ul>Date 4:&nbsp;&nbsp;&nbsp;<input type="datetime-local" id="date4" name="date4" style="font-family: sans-serif;"></ul>
  <ul>Date 5:&nbsp;&nbsp;&nbsp;<input type="datetime-local" id="date5" name="date5" style="font-family: sans-serif;"></ul>
  <ul>Date 6:&nbsp;&nbsp;&nbsp;<input type="datetime-local" id="date6" name="date6" style="font-family: sans-serif;"></ul>
  <ul>Date 7:&nbsp;&nbsp;&nbsp;<input type="datetime-local" id="date7" name="date7" style="font-family: sans-serif;"></ul>
  <ul>Date 8:&nbsp;&nbsp;&nbsp;<input type="datetime-local" id="date8" name="date8" style="font-family: sans-serif;"></ul>
  <ul>Date 9:&nbsp;&nbsp;&nbsp;<input type="datetime-local" id="date9" name="date9" style="font-family: sans-serif;"></ul>
  <ul>Date 10:&nbsp;&nbsp;<input type="datetime-local" id="date10" name="date10" style="font-family: sans-serif;"></ul>
  <ul>Date 11:&nbsp;&nbsp;<input type="datetime-local" id="date11" name="date11" style="font-family: sans-serif;"></ul>
  <ul>Date 12:&nbsp;&nbsp;<input type="datetime-local" id="date12" name="date12" style="font-family: sans-serif;"></ul>
  <br />
              <details>
  <summary><i style="color: gray;">Weekly Recurring Dates</summary>
  <i style="font-size: small;">If you select recurring dates you cannot use above <b>Individual Dates!</b></i><br/><br/>
  Beginning Date:<br /><input type="date" id="date13" name="date13" style="font-family: sans-serif;"><br />        
  End Date:<br /><input type="date" id="date14" name="date14" style="font-family: sans-serif;"><br />
Choose Time:<br /><input type="time"  id="rectime" name="rectime" step="900"><br /> <br />
Choose Recurring Day(s): <div class="weekDays-selector">
  <input type="checkbox" id="mon" name="mon" class="weekday" />
  <label for="mon">M</label>
  <input type="checkbox" id="tue"  name="tue" class="weekday" />
  <label for="tue">T</label>
  <input type="checkbox" id="wed"  name="wed" class="weekday" />
  <label for="wed">W</label>
  <input type="checkbox" id="thu"  name="thu" class="weekday" />
  <label for="thu">T</label>
  <input type="checkbox" id="fri"  name="fri" class="weekday" />
  <label for="fri">F</label>
</div>
</details>
</details>
          <br />
          </div>
      <label for="message" style="color: black;font-weight: bold;">Aqua Employee Guest is Visiting (Full Name)</label>
     <textarea id="message" name="message" placeholder="Enter Aqua Employee Full Name" style="height: 30px;font-family: sans-serif;text-transform: uppercase;"></textarea>
       <canvas id="qrcode"></canvas> 
    <label id="emaillink" for="emaillink" style="color: black;font-weight: bold;"></label><br>
    <label id="remove" for="remove" style="color: black;font-weight: bold;font-size: small;"></label><br>
    <label id="removeYes" for="removeYes" style="color: black;font-weight: bold;font-size: 12px;"></label>
     <label id="removeNo" for="removeNo" style="color: black;font-weight: bold;font-size: 12px;"></label>
        </div>
   <button id="submit_msg" type="button" style="background-color: orangered;">Schedule Guest (All fields required!)</button>
         <button id="update_db" type="button" style="padding: 5px;">Update Visit</button>
	 <button id="checkin" type="button" style="padding: 50px;">Tap Here to Check-In/Out</button>
        <button id="get_id" type="button" style="background-color: navy;">View Scheduled Visits</button>
       <button id="get_msg" type="button" style="background-color: cornflowerblue;">Go Home</button>
      <br>
      <center>
	       <label id="reset" for="reset" style="color: black;font-weight: bold;font-size: 18px;"></label><br><br>
       <button id="get_id2" type="button" style="display: block;width: fit-content;background-color: gray;">**View Inactive Scheduled Visits</button>
      </center>
    </form>
      
            </div>
       
    <div id="table"></div>
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-firestore.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.11.0/jquery-ui.min.js"></script> 
      <script src="aqua.js"></script>
<script src="popup.js"></script>
  </body>
    </div>
</html>
<script type="text/javascript"> 
// detect user agent
	 var ua = navigator.userAgent;
         var isMobile = /Android|webOS|iPhone|iPad|iPod/i.test(ua);
	var isIPadPro = /Macintosh/.test(navigator.userAgent) && 'ontouchend' in document;
        console.log("Is mobile?: " + isMobile);
	  console.log("Is iPad Pro?: " + isIPadPro);
	  if (isMobile || isIPadPro) {
	      document.getElementById("help").style.display = "none"
	      //alert("on mobile: " + navigator.platform); // display the platform you're on.
	      var userAgent = navigator.userAgent.toLowerCase();
	      console.log("Device Type:" + userAgent);
	  } 
</script> 
	<script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js">
</script>
<script type="text/javascript">
   (function(){
      emailjs.init("fxGG0I_OLtZPd1zPM");
   })();
</script>
